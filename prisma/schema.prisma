// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Members {
    userId      Int         @id @default(autoincrement())
    username    String      
    nickname    String      
    password    String      
    hashedRefreshToken String?

    quizzes     Quizzes[]
    debates     Debates[] 
    @@map("Members")
}

model Quizzes {
    quizId      Int         @id @default(autoincrement())      
    UserId      Int         
    title       String      
    content     String      
    imageURL    String      
    createdAt   DateTime    @default(now())
    updatedAt   DateTime    @updatedAt
    User        Members     @relation(fields: [UserId], references: [userId])

    debates     Debates[]
    @@map("Quizzes")
}

model Debates {
    debateId    Int         @id @default(autoincrement())
    UserId      Int         
    QuizId      Int         
    title       String      
    content     String      
    createdAt   DateTime    @default(now())
    updatedAt   DateTime    @updatedAt
    User        Members     @relation(fields: [UserId], references: [userId])
    Quiz        Quizzes     @relation(fields: [QuizId], references: [quizId])

    @@map("Debates")
}
